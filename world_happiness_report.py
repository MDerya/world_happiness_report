



                # WORLD HAPPINESS REPORT

"""
    Problem tanımı ve amaç: Bu veri seti ilk kez 2012 yılında yayınlanan 155 ülkeyi
    mutluluk seviyelerine göre sıralayan dünya mutluluk raporlarından oluşmaktadır.
    Mutluluk seviyelerini belirlemek için 6 faktör -ekonomik üretim, sosyal destek, yaşam beklentisi,
    özgürlük, yolsuzluğun olmaması ve cömertlik - göz önüne alınmaktadır.
    Amaç günümüz dünyasında daha mutlu toplumlar oluşmasına katkı sağlamak için
    aşağıdaki gibi sorulara cevaplar arayabilmektir.

    **Hangi ülkeler veya bölgeler genel mutlulukta ve mutluluğa katkıda bulunan altı faktörün
    her birinde en yüksek sırada yer alıyor?
    **2015-2016 ile 2016-2017 raporları arasında ülke sıralamaları veya puanları nasıl değişti?
    **Herhangi bir ülke mutlulukta önemli bir artış veya azalma yaşadı mı?



"""
"""Bağlam

Dünya Mutluluk Raporu, küresel mutluluk durumunun dönüm noktası niteliğindeki bir araştırmasıdır. 
İlk rapor 2012'de, ikincisi 2013'te, üçüncüsü 2015'te ve dördüncüsü 2016 Güncellemesi'nde yayınlandı. 
155 ülkeyi mutluluk seviyelerine göre sıralayan Dünya Mutluluk 2017, 
Birleşmiş Milletler'de 20 Mart Dünya Mutluluk Günü'nü kutlayan bir etkinlikte yayınlandı. 
Hükümetler, kuruluşlar ve sivil toplum, politika oluşturma kararlarını bildirmek için 
mutluluk göstergelerini giderek daha fazla kullandığından, rapor küresel tanınma kazanmaya devam ediyor. 
Ekonomi, psikoloji, anket analizi, ulusal istatistik, sağlık, kamu politikası ve daha fazlası gibi alanlarda 
önde gelen uzmanlar, ulusların ilerlemesini değerlendirmek için refah ölçümlerinin nasıl etkili bir şekilde 
kullanılabileceğini açıklıyor. Raporlar, bugün dünyadaki mutluluk durumunu gözden geçiriyor 
ve yeni mutluluk biliminin, mutluluktaki kişisel ve ulusal farklılıkları nasıl açıkladığını gösteriyor.

İçerik

Mutluluk puanları ve sıralamaları, Gallup Dünya Anketinden alınan verileri kullanır. 
Puanlar, ankette sorulan ana yaşam değerlendirme sorusuna verilen yanıtlara dayanmaktadır. 
Cantril merdiveni olarak bilinen bu soru, yanıtlayanlardan kendileri için mümkün olan 
en iyi yaşamın 10 ve olabilecek en kötü yaşamın 0 olduğu bir merdiven düşünmelerini 
ve kendi mevcut yaşamlarını bu ölçekte derecelendirmelerini ister. 
Puanlar, 2013-2016 yılları için ulusal temsili örneklerden alınmıştır ve tahminleri temsili yapmak için 
Gallup ağırlıklarını kullanır. Mutluluk puanını takip eden sütunlar, altı faktörün - ekonomik üretim, 
sosyal destek, yaşam beklentisi, özgürlük, yolsuzluğun olmaması ve cömertlik - her bir ülkede 
yaşam değerlendirmelerinin Distopya'dakinden daha yüksek olmasına ne ölçüde katkıda bulunduğunu tahmin ediyor. 
altı faktörün her biri için dünyanın en düşük ulusal ortalamalarına eşit değerlere sahip varsayımsal ülke. 
Her ülke için bildirilen toplam puan üzerinde hiçbir etkileri yoktur, 
ancak bazı ülkelerin neden diğerlerinden daha yüksek sıralarda yer aldığını açıklarlar.

Esin

Hangi ülkeler veya bölgeler genel mutlulukta ve mutluluğa katkıda bulunan altı faktörün her birinde 
en yüksek sırada yer alıyor? 2015 ve 2016 ile 2016 ve 2017 raporları arasında ülke sıralamaları 
veya puanları nasıl değişti? Herhangi bir ülke mutlulukta önemli bir artış veya azalma yaşadı mı?

Distopya nedir?

Distopya, dünyanın en mutsuz insanlarına sahip hayali bir ülkedir. Distopya'yı kurmanın amacı, 
altı temel değişkenin her biri açısından tüm ülkelerin olumlu bir şekilde 
karşılaştırılabileceği (hiçbir ülke Distopya'dan daha kötü performans göstermez) bir kritere sahip olmaktır, 
böylece her alt çubuğun pozitif genişlikte olmasına izin verilir.
Bu nedenle, altı temel değişken için gözlemlenen en düşük puanlar, Distopyayı karakterize eder. 
Dünyanın en düşük gelir düzeyine, en düşük yaşam beklentisine, en düşük cömertliğe, en fazla yozlaşmaya, 
en az özgürlüğe ve en az sosyal desteğe sahip bir ülkede hayat çok tatsız olacağından, Ütopya'nın aksine “Distopya” olarak anılır.

Kalıntılar nelerdir?

Artıklar veya açıklanamayan bileşenler, altı değişkenin ortalama 2014-2016 yaşam değerlendirmelerini 
ne ölçüde fazla veya eksik açıkladığını yansıtarak her ülke için farklılık gösterir. 
Bu kalıntılar, tüm ülke kümesinde yaklaşık olarak sıfır ortalama değere sahiptir. 
Şekil 2.2, Tablo 2.1'deki denklem o ülkedeki altı değişken için ortalama 2014-2016 verilerine uygulandığında 
her ülke için ortalama kalıntıyı göstermektedir. Bu artıkları, Distopya'daki yaşam değerlendirmeleri için 
tahminle birleştiriyoruz, böylece birleşik çubuk her zaman pozitif değerlere sahip olacak. 
Şekil 2.2'de görülebileceği gibi, bazı yaşam değerlendirme artıkları oldukça büyük olsa da, 
bazen ölçekte 0'dan 10'a kadar bir noktayı aşsa da, bunlar her zaman ortalama yaşamın 1,85 olarak derecelendirildiği 
Distopya'da hesaplanan değerden çok daha küçüktür. 0 ila 10 ölçeği.

Mutluluk Puanından sonraki sütunlar (Aile, Cömertlik vb.) neyi tanımlar?

Aşağıdaki sütunlar: Kişi Başına Düşen GSYİH, Aile, Ortalama Yaşam Süresi, Özgürlük, Cömertlik, 
Güven Devlet Yolsuzluğu, bu faktörlerin her bir ülkedeki mutluluğun değerlendirilmesine 
ne ölçüde katkıda bulunduğunu açıklar.
Distopya Kalıntısı metriği aslında Distopya Mutluluk Puanı(1.85) + Kalan değer veya 
önceki yanıtta belirtildiği gibi her ülke için açıklanamayan değerdir.

Tüm bu faktörleri toplarsanız, mutluluk puanını elde edersiniz, 
bu nedenle Mutluluk Puanlarını tahmin etmek için onları modellemek güvenilir olmayabilir."""


#Country                      :ülke ismi
#Region                       :ülkenin ait oldugu bölge
#Happiness Rank               :Mutluluk Puanına göre ülkenin sıralaması.
#Happiness Score              :"Mutluluğunuzu 0'dan 10'a kadar bir ölçekte nasıl değerlendirirsiniz ve 10 en mutludur" sorusuyla ölcülen ölcüm
#Standard Error               :happiness score'un standart hatası.
#Economy (GDP per Capita)     :(Gross domestic product) gayri safi milli hasılanın mutluluk skoruna ne ölcüde katkıda bulundugu
#Family                       :Ailenin happiness score'nun hesaplanmasına ne ölçüde katkıda bulunduğu
#Health (Life Expectancy)     :ortalama yasam ömrünün ..
#Freedom                      :özgürlügün ..
#Trust (Government Corruption):yolsuzluk algısının ..
#Generosity                   :
#Dystopia Residual            :

import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

pd.set_option('display.max_columns', None)
pd.set_option('display.max_rows', None)
pd.set_option('display.width', 500)
# çıktının tek bir satırda olmasını sağlar.
pd.set_option('display.expand_frame_repr', False)

#####  VERİMİZİ OKUTALIM  #####

df1 = pd.read_csv("2015.csv")
df1.head()

df2 = pd.read_csv("2016.csv")
df2.head()

df3 = pd.read_csv("2017.csv")
df3.head()

df4 = pd.read_csv("2018.csv")
df4.head()

df5 = pd.read_csv("2019.csv")
df5.head()

df1.columns
df3.columns

#-----------------VERİLERİ DÜZENLE-----------------------------------------------

df3.rename(columns={"Happiness.Rank": "Happiness Rank",
            "Happiness.Score": "Happiness Score",
            "Economy..GDP.per.Capita.": "Economy (GDP per Capita)",
            "Health..Life.Expectancy.": "Health (Life Expectancy)",
            "Trust..Government.Corruption.": "Trust (Government Corruption)"},inplace=True)

df4.rename(columns={"Overall rank": "Happiness Rank",
            "Score": "Happiness Score",
            "GDP per capita": "Economy (GDP per Capita)",
            "Healthy life expectancy": "Health (Life Expectancy)",
            "Freedom to make life choices": "Freedom",
            "Perceptions of corruption": "Trust (Government Corruption)",
            "Country or region": "Country"},inplace=True)

df5.rename(columns={"Overall rank": "Happiness Rank",
            "Score": "Happiness Score",
            "GDP per capita": "Economy (GDP per Capita)",
            "Healthy life expectancy": "Health (Life Expectancy)",
            "Freedom to make life choices": "Freedom",
            "Perceptions of corruption": "Trust (Government Corruption)",
            "Country or region": "Country"},inplace=True)

df1.head()
df2.head()
df3.head()
df4.head()
df5.head()


def check_df(dataframe, head=5):
    print("##################### Head #####################")
    print(dataframe.head(head))
    print("##################### Tail #####################")
    print(dataframe.tail(head))
    print("##################### Shape #####################")
    print(dataframe.shape)
    print("##################### Types #####################")
    print(dataframe.dtypes)
    print("##################### NA #####################")
    print(dataframe.isnull().sum())
    print("##################### Describe #####################")
    print(dataframe.describe().T)
    print("##################### Info #####################")
    print(dataframe.info())

check_df(df2)




#df'lere hangi yıllara ait olduklarını ekledim
df1["Which Year"] = "2015"
df2["Which Year"] = "2016"
df3["Which Year"] = "2017"
df4["Which Year"] = "2018"
df5["Which Year"] = "2019"


"""
#bazı df'lerde Region da eksik degerler var
df3[df3["Region"].isnull()]
df4[df4["Region"].isnull()]
df5[df5["Region"].isnull()]

df_region["Region"].unique()
df_region[df_region["Region"]== 'Sub-Saharan Africa']
# 'Western Europe' = (Switzerland,Iceland,Denmark,Norway,Finland,Netherlands,Sweden,Austria,..)
# 'North America',
# 'Australia and New Zealand',
# 'Middle East and Northern Africa',
# 'Latin America and Caribbean',
# 'Southeastern Asia',
# 'Central and Eastern Europe',
# 'Eastern Asia',
# 'Sub-Saharan Africa',
# 'Southern Asia'
df3["Region"] = {"Taiwan Province of China": "Eastern Asia", 
                "Belize": "Latin America and Caribbean",
                "Hong Kong S.A.R., China": "Eastern Asia", 
                "Somalia": "Sub-Saharan Africa",
                "South Sudan": "Sub-Saharan Africa", 
                "Namibia": "Sub-Saharan Africa"}

df4["Region"] = {"Trinidad & Tobago": "Latin America and Caribbean",
                "Belize": "Latin America and Caribbean",
                "Northern Cyprus": "Western Europe",
                "Somalia": "Sub-Saharan Africa", 
                "Namibia": "Sub-Saharan Africa",
                "South Sudan": "Sub-Saharan Africa"}

df5["Region"] = {"Trinidad & Tobago": "Latin America and Caribbean",
                 "Northern Cyprus": "Western Europe",
                 "North Macedonia": "Central and Eastern Europe",
                 "Somalia": "Sub-Saharan Africa", 
                 "Namibia": "Sub-Saharan Africa",
                 "South Sudan": "Sub-Saharan Africa", 
                 "Gambia": "Sub-Saharan Africa"}

df_region["Country"]
"""
#df2'de 1 ülkenin ismi farklı yazılmış
df2[df2["Country"]=="Somaliland Region"]
df2["Country"][96] = "Somaliland region"


#df3'de 4 ülkenin ismi df1 den farklı yazılmıs,onları düzelttim,cünkü listeleri birleştirdigimizde region karşılıgı gelmiyor
df3[df3["Country"]=="Taiwan Province of China"]
df3["Country"][32] = "Taiwan"

df3[df3["Country"]=="Hong Kong S.A.R., China"]
df3["Country"][70] = "Hong Kong"

df3[df3["Country"]=="South Sudan"]
df3["Country"][146] = "Sudan"

df3[df3["Country"]=="Somalia"]
df3["Country"][92] = "Somaliland region"

#--------------------------
#df4'te 4 ülkenin ismi farklı yazılmıs onları düzelttim
df4[df4["Country"]=="Trinidad & Tobago"]
df4["Country"][37] = "Trinidad and Tobago"

df4[df4["Country"]=="Northern Cyprus"]
df4["Country"][57] = "North Cyprus"

df4[df4["Country"]=="South Sudan"]
df4["Country"][153] = "Sudan"

df4[df4["Country"]=="Somalia"]
df4["Country"][97] = "Somaliland region"

#--------------------------------
#df5'te 5 ülkenin ismi farklı yazılmıs
df5[df5["Country"]=="Trinidad & Tobago"]
df5["Country"][38] = "Trinidad and Tobago"

df5[df5["Country"]=="Northern Cyprus"]
df5["Country"][63] = "North Cyprus"

df5[df5["Country"]=="North Macedonia"]
df5["Country"][83] = "Macedonia"

df5[df5["Country"]=="South Sudan"]
df5["Country"][155] = "Sudan"

df5[df5["Country"]=="Somalia"]
df5["Country"][111] = "Somaliland region"

#-----------------------------------


#her df'de bölge sütunu olmadıgı icin yeni bir df olusturdum country ve bölge iceren
df_region = df1[["Country", "Region"]]


#Region'u her df'e ekliyorum ve null degerlerine bakıyorum
#df3 = pd.merge(df3, df_region, on="Country", how="left")
#df3[df3["Region"].isnull()]
#df4 = pd.merge(df4, df_region, on="Country", how="left")
#df4[df4["Region"].isnull()]
#df5 = pd.merge(df5, df_region, on="Country", how="left")
#df5[df5["Region"].isnull()]

#sonradan listeye giren ülkeler ve listede olup da ismi degisik harften ötürü bölgesi cıkmayan ülkeler var
#bu ülkelerin de bölgelerini tanımlamak istiyorum
s1= dict(zip(df_region["Country"],df_region["Region"]))
s2= {"Belize": "Latin America and Caribbean",
     "Namibia": "Sub-Saharan Africa",
     "Gambia": "Sub-Saharan Africa"}
s1.update(s2)  #iki listeyi birleştirdik
s1
country = list(s1.keys())
region = list(s1.values())
df_region = pd.DataFrame(list(zip(country, region)),
                  columns=['Country', 'Region'])
#df_region = pd.DataFrame(s1),columns=['Country', 'Region'])??

df1["Region"].unique()


#df3'e region'ı merge ettim
df3 = pd.merge(df3, df_region, on="Country", how="left")
#df1.loc[df1["Region"]=='Western Europe']
#df3.loc[df3["Region"]=='Western Europe']
df3[df3["Region"].isnull()]
df3.info()
df4 = pd.merge(df4, df_region, on="Country", how="left")

df5 = pd.merge(df5, df_region, on="Country", how="left")



check_df(df3)
check_df(df5)
#artık bütün ülke -bölge ler dolu


#----------------------------------------------------------------------------------
#Yıllara göre calışabiliriz

##   bölgelere göre mutluluk skorları  ##
df1.groupby("Region").agg({"Happiness Score": "mean"}).sort_values(by="Happiness Score", ascending=False)


#2015 de mutluluk sıralamasındaki ilk 10 ülke
df1.groupby("Country").agg({"Happiness Score": "mean"}).sort_values(by="Happiness Score", ascending=False).head(10)

#2019 da mutluluk sıralamasındaki ilk 10 ülke
df5.groupby("Country").agg({"Happiness Score": "mean"}).sort_values(by="Happiness Score", ascending=False).head(10)


#---------------------------------------------------------------------------------
#Bütün yılları birleştirelim


df = pd.concat([df1,df2,df3,df4,df5],axis=0,ignore_index = True)  #axis=0 alt alta birlestirir
df.head()
df.info()

df = df[["Country", "Region", "Happiness Rank", "Happiness Score", "Economy (GDP per Capita)", "Health (Life Expectancy)", "Freedom", "Trust (Government Corruption)", "Generosity", "Which Year"]]
df.info()


#yıllara göre mutluluk skorları
df.groupby("Which Year").agg({"Happiness Score": "mean"})


# her bölgenin yıllara göre mutluluk skorları ##
df.groupby(["Region", "Which Year"]).agg({"Happiness Score": "mean"})

#yukarıdaki satırla aynı cıktıyı veriyor
df.pivot_table(index=["Region", "Which Year"],
               values="Happiness Score",
               aggfunc="mean")

#ülkelere göre mutluluk skorlarının ort. sıralayalım
df.groupby("Country")["Happiness Score"].mean().sort_values(ascending=False).reset_index()

#ülkelere göre gayri safi milli hasılanın ort. mutluluga katkısının sıralaması
df.groupby("Country")["Economy (GDP per Capita)"].mean().sort_values(ascending=False).reset_index()

#bölgelere göre ....
df.groupby("Region")["Economy (GDP per Capita)"].mean().sort_values(ascending=False).reset_index()

df.groupby("Region")["Economy (GDP per Capita)", "Happiness Score"].mean().sort_values(by="Happiness Score", ascending=False).reset_index()

#distopya
df.groupby("Country")["Happiness Score"].mean().sort_values(ascending=True).reset_index().head(15)

#ekonomiyle mutlulugun bir ilişkisi var mı diye bakıyorum
df.groupby("Country").agg({"Happiness Score": "mean", "Economy (GDP per Capita)": "mean"}).sort_values(by="Economy (GDP per Capita)", ascending=False).reset_index().head(15)

#ya da hükümete güvenle
df.groupby("Country").agg({"Happiness Score": "mean", "Trust (Government Corruption)": "mean"}).sort_values(by="Trust (Government Corruption)", ascending=False).reset_index().head(15)
#burada dikkatimi ceken Rwanda en mutsuz 4.ülke,ama Trust (Government Corruption) 'da 1.sırada

#özgürlükle mutlulugun bir ilişkisi var mı
df.groupby("Country").agg({"Happiness Score": "mean", "Freedom": "mean"}).sort_values(by="Freedom", ascending=False).reset_index().head(15)
#özbekistan mutlulukta 46. sırada özgürlükte ilk sırada
#Cambodia mutlulukta 139.sırada özgürlükte ilk 3 te

#yıllara göre özgürlüklerde artıs mı olmus azalıs mı
df.groupby("Which Year")["Freedom"].mean().reset_index()



# ######################################################################################################
#                           GRAFİKLER
########################################################################################################


##   bölgelere göre mutluluk skorları  ##
df1.groupby("Region").agg({"Happiness Score": "mean"}).sort_values(by="Happiness Score", ascending=False)
sns.boxplot(x="Happiness Score", y="Region", data=df1)


sns.boxplot(x="Region", y="Happiness Score", data=df1)
g1= sns.boxplot(x="Region", y="Happiness Score", data=df1)
g1.set_xticklabels(g1.get_xticklabels(), rotation=90) #x deki yazıları dik yazar
plt.show()


# GDP ekleyelim
df1_ = df1.groupby("Region").agg({"Happiness Score": "mean","Economy (GDP per Capita)": "mean"}).\
    sort_values(by="Happiness Score", ascending=False)
df1_.reset_index()
# sns.boxplot(x="Happiness Score", y="Economy (GDP per Capita)",hue="Region", data=df1_)
# sns.boxplot(x="Happiness Score", y="Economy (GDP per Capita)",hue="Region", data=df1)

sns.scatterplot(x="Happiness Score",y="Economy (GDP per Capita)",hue="Region",style=None,data=df1)
sns.scatterplot(x="Happiness Score",y="Economy (GDP per Capita)",hue="Region",style=None,data=df1_)


#2015 de mutluluk sıralamasındaki ilk 10 ülke
df1_10 = df1.groupby("Country").agg({"Happiness Score": "mean", "Health (Life Expectancy)": "mean"}).\
    sort_values(by="Happiness Score", ascending=False).head(10)

sns.scatterplot(x="Happiness Score",y="Health (Life Expectancy)",hue="Country",style=None,data=df1_10)

#2019 da mutluluk sıralamasındaki ilk 10 ülke
df5_10= df5.groupby("Country").agg({"Happiness Score": "mean", "Health (Life Expectancy)": "mean"}).\
    sort_values(by="Happiness Score", ascending=False).head(10)

sns.scatterplot(x="Happiness Score",y="Health (Life Expectancy)",hue="Country",style=None,data=df5_10)


#---------------------------------------------------------------------------------


#yıllara göre mutluluk skorları
dff1 = df.groupby("Which Year").agg({"Happiness Score": "mean"})
dff1.plot()

dff2 = df.groupby("Which Year").agg({"Economy (GDP per Capita)": "mean"})
dff2.plot()

dff3 = df.groupby("Which Year").agg({"Trust (Government Corruption)": "mean"})
dff3.plot()

dff4 = df.groupby("Which Year").agg({"Health (Life Expectancy)": "mean"})
dff4.plot()


# her bölgenin mutluluk skorları ##
df.groupby(["Region", "Which Year"]).agg({"Happiness Score": "mean"})
df.groupby("Region").agg({"Happiness Score": "mean"})
sns.boxplot(x="Happiness Score", y="Region",  data=df)

#yukarıdaki satırla aynı cıktıyı veriyor
# df.pivot_table(index=["Region", "Which Year"],
#                values="Happiness Score",
#                aggfunc="mean")

#ülkelere göre mutluluk skorlarının ort. sıralayalım
# df.groupby("Country")["Happiness Score"].mean().sort_values(ascending=False).reset_index()


#ülkelere göre gayri safi milli hasılanın ort. mutluluga katkısının sıralaması
# df.groupby("Country")["Economy (GDP per Capita)"].mean().sort_values(ascending=False).reset_index()

#bölgelere göre ....
df.groupby("Region")["Economy (GDP per Capita)"].mean().sort_values(ascending=False).reset_index()
sns.boxplot(x="Economy (GDP per Capita)", y="Region",  data=df)

dfr = df.groupby("Region")["Economy (GDP per Capita)", "Happiness Score"].mean().sort_values(by="Happiness Score", ascending=False).reset_index()
sns.scatterplot(x="Happiness Score",y="Economy (GDP per Capita)",hue="Region",style=None,data=dfr)



#ekonomiyle mutlulugun bir ilişkisi var mı diye bakıyorum
df_happines = df.groupby("Country").agg({"Happiness Score": "mean", "Economy (GDP per Capita)": "mean"}).sort_values(by="Economy (GDP per Capita)", ascending=False).reset_index().head(10)
sns.scatterplot(x="Happiness Score",y="Economy (GDP per Capita)",hue="Country",style=None,data=df_happines)
df["Happiness Score"].mean()

#ya da hükümete güvenle
df_trust = df.groupby("Country").agg({"Happiness Score": "mean", "Trust (Government Corruption)": "mean"}).sort_values(by="Trust (Government Corruption)", ascending=False).reset_index().head(10)
sns.scatterplot(x="Happiness Score",y="Trust (Government Corruption)",hue="Country",style=None,data=df_trust)
#burada dikkatimi ceken Rwanda en mutsuz 4.ülke,ama Trust (Government Corruption) 'da 1.sırada

plt.subplot(2,2,1)
sns.scatterplot(x="Happiness Score",y="Region",style=None,data=df)
plt.subplot(2,2,2)
sns.scatterplot(x="Happiness Score",y="Economy (GDP per Capita)",hue="Region",style=None,data=dfr)
plt.subplot(2,2,3)
sns.scatterplot(x="Happiness Score",y="Economy (GDP per Capita)",hue="Country",style=None,data=df_happines)
plt.subplot(2,2,4)
sns.scatterplot(x="Happiness Score",y="Trust (Government Corruption)",hue="Country",style=None,data=df_trust)


#-----------------------------------------------------------------------------

#bölgelerin unique sayılarını cubuk grafikte görmek icin
df1["Region"].value_counts().plot(kind='bar')
plt.show()

""" g1= sns.countplot(x=df1["Region"], data=df1)
    g1.set_xticklabels(g1.get_xticklabels(), rotation=90) #x deki yazıları dik yazar
    plt.show()"""

#grafigin dogrulugunu kontrol ettim
df1.loc[df1["Region"]=='Western Europe']
df1.loc[df1["Region"]=='Middle East and Northern Africa']
df1.loc[df1["Region"]=='Sub-Saharan Africa']
df1.loc[df1["Region"]=='Latin America and Caribbean']
df1.loc[df1["Region"]=='Australia and New Zealand']

#baslık atarak yapalım bir de
df1["Region"].value_counts().plot(kind='bar')
plt.xlabel("Region")
plt.ylabel("Count of Region")
plt.title("Unique Numbers Of Regions")
plt.show()

#-----------------------------------------------------

# Happiness Score'un histogram grafigi
plt.hist(df5["Happiness Score"])
plt.xlabel("Mutluluk Skoru")
plt.ylabel("Dağılımlar")
plt.show()

df1["Happiness Score"].min()

#histogramın diger gösterimi
df1["Happiness Score"].hist()
plt.show()


# gayri safi milli hasılanın dagılımı
plt.hist(df5["Economy (GDP per Capita)"])
plt.show()


plt.boxplot(df1["Happiness Score"])
plt.show()



g2 = sns.barplot(data=df1, x='Region', y='Happiness Score', hue='Which Year')
g2.set_xticklabels(g2.get_xticklabels(), rotation=90) #x deki yazıları dik yazar
plt.show()



x = df1["Economy (GDP per Capita)"]
y = df1["Happiness Score"]
plt.subplot(5, 1, 1) #5 satırlık,1 sütunluk grafigin birincisini olustur
plt.title("2015")
plt.plot(x, y)

# plot 2
x = df2["Economy (GDP per Capita)"]
y = df2["Happiness Score"]
plt.subplot(5, 1, 2)
plt.title("2016")
plt.plot(x, y)

# plot 3
x = df3["Economy (GDP per Capita)"]
y = df3["Happiness Score"]
plt.subplot(5, 1, 3)
plt.title("2017")
plt.plot(x, y)

# plot 4
x = df4["Economy (GDP per Capita)"]
y = df4["Happiness Score"]
plt.subplot(5, 1, 4)
plt.title("2018")
plt.plot(x, y)

# plot 5
x = df5["Economy (GDP per Capita)"]
y = df5["Happiness Score"]
plt.subplot(5, 1, 5)
plt.title("2019")
plt.plot(x, y)

plt.show(block=True)


